404.html

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Page Not Found</title>
</head>
<body>
    <h1>404 - Page Not Found</h1>
    <p>The page you requested was not found.</p>
    <a href="{% url 'products:product_list' %}">Go to Home</a>
</body>
</html>


main.html

{% extends "base.html" %}

{% block title %}Welcome to MyShop{% endblock %}

{%load static%}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/main.css' %}">
{% endblock %}

{% block content %}
<section class="intro-section">
  <h2>Welcome to MyShop</h2>
  <p>We offer a wide range of high-quality products at unbeatable prices. 
     From electronics to fashion, we‚Äôve got something for everyone!</p>

  <div class="promo-grid">
    <div class="promo-item">
      <h3>üî• Latest Gadgets</h3>
      <p>Stay ahead with the newest tech trends.</p>
    </div>
    <div class="promo-item">
      <h3>üíé Premium Quality</h3>
      <p>Carefully selected products you can trust.</p>
    </div>
    <div class="promo-item">
      <h3>üöö Fast Delivery</h3>
      <p>Get your order quickly and safely.</p>
    </div>
  </div>

  <section id="about" class="about-section">
  <h2>About MyShop</h2>
  <p>
    MyShop is your trusted online destination for a wide range of high-quality products. From the latest electronics to trendy fashion and essential home goods, we carefully curate our collection to ensure unbeatable quality and value. Our mission is to provide a seamless shopping experience with fast delivery, secure transactions, and exceptional customer support. Whether you're upgrading your gadgets or refreshing your wardrobe, MyShop is here to help you find exactly what you need with confidence and convenience.
  </p>
</section>


  <!-- Optional: Call to action 
  <div class="cta">
    <p>
      <a href="{% url 'accounts:register' %}" class="cta-btn">Create an Account</a>
      or
      <a href="{% url 'accounts:login' %}" class="cta-btn">Login</a>
      to start shopping!
    </p>
  </div>  
  -->
</section>
{% endblock %}




base.html

{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>{% block title %}E-Commerce{% endblock %}</title>
 <link rel="stylesheet" href="{% static 'css/styles.css' %}">
 <link rel="stylesheet" href="{% static 'css/main.css' %}">
 <link rel="stylesheet" href="{% static 'css/login.css' %}">
 {% block extra_css %}{% endblock %}
</head>
<body>

 <!-- ================= Navbar ================= -->
 <nav class="navbar">
   <div class="logo">
     <a href="{% url 'home' %}">MyShop</a>
   </div>

   <div class="nav-links">
    {% if user.is_authenticated %}
        <a href="{% url 'products:product_list' %}">Products</a>
        <a href="{% url 'cart:cart_view' %}">Cart</a>
        <a href="{% url 'orders:checkout' %}">Orders</a>
        <a href="{% url 'accounts:profile' %}">Profile</a>

        {% if user.is_staff %}
            <a href="{% url 'ids:ids_dashboard' %}">IDS Dashboard</a>
            <a href="{% url 'airs:airs_dashboard' %}">AIRS Dashboard</a>
        {% endif %}

        <a href="{% url 'accounts:logout' %}">Logout</a>
    {% else %}
        <a href="{% url 'accounts:login' %}">Login</a>
        <a href="{% url 'accounts:register' %}">Register</a>
    {% endif %}
</div>

   <!-- Toggle Panel -->
   <div class="toggle-panel">
     <span id="vuln-label" class="vuln-label"></span>
     <button id="toggle-mode-btn" class="toggle-btn"></button>
   </div>
 </nav>

 <!-- ================= Main Container ================= -->
 <div class="container">
   {% if messages %}
     <div class="messages">
       {% for message in messages %}
         <div class="alert alert-{{ message.tags }}">{{ message }}</div>
       {% endfor %}
     </div>
   {% endif %}

   {% if user.is_authenticated %}
   <form method="get" action="{% url 'products:product_search' %}" class="fixed-search-form">
     <input type="text" name="q" placeholder="Search products..." required class="fixed-search-input">
     <button type="submit" class="fixed-search-button">Search</button>
   </form>
   {% endif %}

   {% block content %}{% endblock %}
 </div>

 <!-- ================= Footer ================= -->
 <footer class="main-footer">
   <div class="footer-container">
     <div class="footer-column">
       <h3>Explore</h3>
       <ul>
         <li><a href="#about"><span>‚Ä∫</span> About</a></li>
         <li><a href="{% url 'products:product_list' %}"><span>‚Ä∫</span> Shop</a></li>
         <li><a href="#"><span>‚Ä∫</span> FAQ</a></li>
       </ul>
     </div>
     <div class="footer-column">
       <h3>Useful Links</h3>
       <ul>
         <li><a href="#"><span>‚Ä∫</span> Support</a></li>
         <li><a href="mailto:support@myshop.com"><span>‚Ä∫</span> Contact</a></li>
       </ul>
     </div>
   </div>

   <div class="footer-bottom">
     ¬© {{ now|date:'Y' }} ShopSite
   </div>
 </footer>

 <!-- ================= Context Variables for JS ================= -->
<script>
  window.APP_CONTEXT = {
    mode: "{{ simulation_mode|default:'secure' }}",  // uses context processor
    csrfToken: "{{ csrf_token }}"
  };

  document.addEventListener("DOMContentLoaded", function() {
    const toggleBtn = document.getElementById('toggle-mode-btn');
    const vulnLabel = document.getElementById('vuln-label');
    let currentMode = window.APP_CONTEXT.mode;

    function updateUI(mode) {
      if (mode === "vulnerable") {
        toggleBtn.textContent = "Vulnerable Mode";
        toggleBtn.style.backgroundColor = "#dc3545"; // red
        toggleBtn.style.color = "#fff";
        vulnLabel.style.display = "inline-block";
        vulnLabel.textContent = "‚ö† VULNERABLE LAB ACTIVE";
      } else {
        toggleBtn.textContent = "Secure Mode";
        toggleBtn.style.backgroundColor = "#4CAF50"; // green
        toggleBtn.style.color = "#fff";
        vulnLabel.style.display = "inline-block";
        vulnLabel.textContent = "‚úî SECURE MODE";
      }
    }

    // Initialize UI
    updateUI(currentMode);

    // Click listener to toggle mode
    toggleBtn.addEventListener('click', function() {
      fetch('/accounts/toggle_mode/', {
        method: 'POST',
        headers: {
          'X-CSRFToken': window.APP_CONTEXT.csrfToken,
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({})
      })
      .then(response => response.json())
      .then(data => {
        if (data.mode) {
          currentMode = data.mode;
          updateUI(currentMode);
          alert(`Switched to ${currentMode.toUpperCase()} MODE!`);
          window.location.reload(); // reload to reflect changes globally
        }
      })
      .catch(() => {
        alert("‚ö†Ô∏è Error toggling mode!");
      });
    });
  });
</script>


 <!-- ================= JavaScript Files ================= -->
 <script src="{% static 'js/toggle_mode.js' %}"></script>
 <script src="{% static 'js/vuln_lab.js' %}"></script>

</body>
</html>
