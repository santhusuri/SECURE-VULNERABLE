digraph ER {
  rankdir=LR;
  node [shape=record];

  User [label="{User|+ username\n+ email\n+ first_name\n+ last_name\n+ phone\n+ address\n+ photo}"];

  UserProfile [label="{UserProfile|+ user\n+ mode}"];

  VulnUser [label="{VulnUser|+ username\n+ email\n+ password}"];

  Category [label="{Category|+ name\n+ slug}"];

  Product [label="{Product|+ category\n+ name\n+ slug\n+ description\n+ price\n+ image\n+ image_url\n+ stock}"];

  Review [label="{Review|+ product\n+ user\n+ rating\n+ comment\n+ created_at}"];

  Order [label="{Order|+ user\n+ total\n+ created_at\n+ updated_at\n+ mode\n+ payment_intent_id}"];

  OrderItem [label="{OrderItem|+ order\n+ product\n+ quantity\n+ price\n+ added_at}"];

  Shipment [label="{Shipment|+ order\n+ tracking_number\n+ carrier\n+ estimated_delivery\n+ shipped_date\n+ delivered_date\n+ status\n+ last_updated}"];

  SecurityLog [label="{SecurityLog|+ order\n+ user\n+ mode\n+ total\n+ shipment_status\n+ timestamp}"];

  User -> UserProfile [label="1:1"];
  User -> Order [label="1:N"];
  User -> Review [label="1:N"];
  User -> SecurityLog [label="1:N"];
  Order -> OrderItem [label="1:N"];
  Order -> Shipment [label="1:1"];
  Order -> SecurityLog [label="1:N"];
  Product -> OrderItem [label="1:N"];
  Product -> Review [label="1:N"];
  Category -> Product [label="1:N"];
}
