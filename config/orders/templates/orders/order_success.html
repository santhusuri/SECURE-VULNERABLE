{% extends "base.html" %}
{% load static %}

{% block title %}Order Success{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/orders.css' %}">
<style>
    .order-success {
        text-align: center;
        margin: 2rem auto;
        padding: 2rem;
        max-width: 600px;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        background: #fff;
    }
    .order-success h2 {
        color: #4CAF50;
    }
    .mode-badge {
        display: inline-block;
        padding: 0.4rem 0.8rem;
        margin-top: 1rem;
        font-weight: bold;
        border-radius: 6px;
    }
    .mode-secure {
        background: #e6f9e6;
        color: #2e7d32;
        border: 1px solid #2e7d32;
    }
    .mode-vulnerable {
        background: #ffe6e6;
        color: #b22222;
        border: 1px solid #b22222;
    }
</style>
{% endblock %}

{% block content %}
<div class="order-success">
    <h2>âœ… Order Placed Successfully!</h2>
    <p>Thank you for your order.</p>

    <p><strong>Order ID:</strong> {{ order.id }}</p>
    <p><strong>Total:</strong> ${{ order.total }}</p>

    {% if order.mode == "vulnerable" %}
        <div class="mode-badge mode-vulnerable">
            âš  VULNERABLE MODE â€“ Order not securely processed
        </div>
    {% else %}
        <div class="mode-badge mode-secure">
            âœ” SECURE MODE â€“ Order processed safely
        </div>
    {% endif %}

    <div style="margin-top: 2rem;">
        <a href="{% url 'orders:download_invoice' order.id %}" class="btn btn-checkout">
            ðŸ“„ Download Invoice (PDF)
        </a>
    </div>

    <div style="margin-top: 1rem;">
        <a href="{% url 'products:product_list' %}" class="btn btn-continue">Continue Shopping</a>
    </div>
</div>
{% endblock %}
