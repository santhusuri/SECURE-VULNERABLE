{% load static %}
<!DOCTYPE html>
<html>
<head>
<title>Security Dashboard</title>
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
</head>
<body>
<h1>Security Incident Dashboard</h1>
<button id="mute-btn" class="mute-btn">ğŸ”Š Sound On</button>
<div id="toast-container"></div>
<audio id="alert-sound" src="{% static 'sounds/alert.mp3' %}" preload="auto"></audio>

<form method="POST" action="{% url 'clear_logs' %}">
{% csrf_token %}
<button type="submit" onclick="return confirm('Are you sure you want to clear all logs?');">Clear All Logs</button>
</form>

<table border="1" cellpadding="10">
<thead>
<tr><th>ID</th><th>Attack Type</th><th>Event Data</th><th>IP Address</th><th>Action Taken</th><th>Time</th><th>Severity</th></tr>
</thead>
<tbody>
{% for incident in incidents %}
<tr data-id="{{ incident.id }}">
<td>{{ incident.id }}</td>
<td>{{ incident.attack_type }}</td>
<td>{{ incident.event_data }}</td>
<td>{{ incident.ip_address }}</td>
<td>{{ incident.action_taken }}</td>
<td>{{ incident.timestamp|date:"Y-m-d H:i:s" }}</td>
<td><span class="severity {{ incident.severity|lower }}">{{ incident.severity }}</span></td>
</tr>
{% empty %}
<tr><td colspan="7">No incidents yet ğŸš€</td></tr>
{% endfor %}
</tbody>
</table>

<script src="{% static 'js/dashboard.js' %}"></script>
</body>
</html>
